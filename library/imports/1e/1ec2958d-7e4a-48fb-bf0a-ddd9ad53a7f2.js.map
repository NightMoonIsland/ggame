{"version":3,"sources":["assets/resources/control/ListView.js"],"names":["array1","require","cc","Class","extends","Component","properties","scrollView","default","type","ScrollView","dir","lines","hgap","vgap","width","height","dp","item","Prefab","itemPwd","itemHeight","itemWidth","ctor","updateTimer","create","node","parent","tool","config","Direction","HORIZONTAL","calcSection","self","size","interval","console","log","loader","loadRes","dl","getSize","excuteWithFunc","data","index","prefab","getRes","instantiate","getComponent","setPos","addChild","dt","updateInterval"],"mappings":"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","file":"unknown","sourcesContent":["var array1 = require(\"array1\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n\n        scrollView: {\n            default: null,\n            type: cc.ScrollView\n        },\n\n        \n        dir: 0, \n        lines: 0, \n        hgap: 0, \n        vgap: 0, \n        width: 0, \n        height: 0,\n        \n\n        dp: array1,\n        item: cc.Prefab,\n        itemPwd: null,\n        itemHeight: 0,\n        itemWidth: 0,\n    },\n\n    ctor: function() {\n        this.updateTimer = 0;\n        dp = null;\n    },\n\n    create: function(dir, lines, hgap, vgap, width, height) {\n        this.dir = dir;\n        this.lines = lines;\n        this.hgap = hgap;\n        this.vgap = vgap;\n        this.width = width;\n        this.height = height;\n\n\n        this.node.parent.parent.width = width;\n        this.node.parent.parent.height = height;\n        this.node.parent.width = width;\n        this.node.parent.height = height;\n\n        // this.node.parent.parent.setContentSize(cc.Size(width, height));\n        // this.node.parent.setContentSize(cc.Size(width, height));\n        if(dir == cc.tool.config.Direction.HORIZONTAL){\n            this.calcSection = function(self) {\n                if(!self.dp || self.dp.size() == 0){\n                    \n                }\n                var interval = self.itemHeight + self.vgap;\n            };\n        }\n        else{\n            this.calcSection = function(self) {\n                if(!self.dp || self.dp.size() == 0){\n                    \n                }\n                var interval = self.itemHeight + self.vgap;\n            };\n        }\n    },\n\n    ctor: function() {\n        console.log(this.width + \" wocao \" + this.height);\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n\n    setItemModel: function(item, itemWidth, itemHeight) {\n        var self = this;\n\n        this.itemPwd = item;\n        // cc.loader.loadRes(item, cc.Prefab, function(err, prefab){\n        //     // cc.tool.prefab.listView = prefab;\n        //     console.log(\"type prefab = \" + typeof prefab)\n        //     self.item = prefab;\n        // });\n        cc.loader.loadRes(item, cc.Prefab);\n        self.itemWidth = itemWidth;\n        self.itemHeight = itemHeight;\n    },\n\n    setDataProvider: function(dl) {\n        var self = this;\n\n        if(this.dir == cc.tool.config.Direction.HORIZONTAL){\n            this.node.height = dl.getSize() * (this.itemHeight + this.hgap) - this.hgap;\n            this.node.width = this.width;\n        }\n        else{\n            this.node.height = this.height;\n        }    \n\n        dl.excuteWithFunc(function(data, index){\n            var prefab = cc.loader.getRes(self.itemPwd, cc.Prefab);\n\n            let item = cc.instantiate(prefab).getComponent('Renderer');\n            // item.setPosY(-this.itemHeight * (index + 1));\n            item.setPos(0, -self.itemHeight * (index + 1));\n            self.node.addChild(item.node);\n\n            // cc.loader.getRes(self.itemPwd, cc.Prefab, function(err, prefab){\n            //     let item = cc.instantiate(prefab).getComponent('Renderer');\n            //     // item.setPosY(-this.itemHeight * (index + 1));\n            //     item.setPos(0, -self.itemHeight * (index + 1));\n            //     self.node.addChild(item.node);\n            // });\n\n            // let item = cc.instantiate(self.item).getComponent('Renderer');\n            // // item.setPosY(-this.itemHeight * (index + 1));\n            // item.setPos(0, -self.itemHeight * (index + 1));\n            // self.node.addChild(item.node);\n        });\n    },\n\n    update (dt) {\n        this.updateTimer += dt;\n        if(this.updateTimer < this.updateInterval) return;\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}